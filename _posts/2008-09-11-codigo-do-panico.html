---
layout: post
title: Código do Pânico
date: 2008-09-11 21:23:21.000000000 -03:00
categories:
- design
- engenharia
- pragmatic
- testes
tags:
- engenharia
- tdd
- testes
status: publish
type: post
published: true
meta:
  _edit_last: '2'
  dsq_thread_id: '83664873'
author:
  login: emerleite
  email: emerleite@gmail.com
  display_name: Emerson Macedo
  first_name: Emerson
  last_name: Macedo
redirect_from:
  - /2008/09/11/codigo-do-panico/
---
<p>Certa vez, passei por uma situação que acredito que você já passou um dia na sua vida profissional. Tive que implementar uma funcionalidade nova num projeto e precisava alterar diversas partes do código desse projeto para implementar essa funcionalidade. Infelizmente esse projeto não tem uma boa cobertura de <a href="http://en.wikipedia.org/wiki/Test_automation" target="_blank">testes automatizados</a>. Existem até alguns testes, mas não o suficiente.</p>
<p>Dentro do "possível", adicionei testes no projeto para melhorar o nível de confiança nas alterações e conseguir trabalhar um pouco mais sossegado quanto a qualidade do que estava sendo desenvolvido. Aproveitei a oportunidade para estimular meus colegas no uso de testes automatizados. Eu poderia simplesmente ignorar os testes e manter o "padrão" atual do projeto, mas como bem disse uma vez o <a href="http://gc.blog.br" target="_blank">Guilherme Chapiewski</a> num excelente <a href="http://gc.blog.br/2008/03/30/test-infection-por-onde-comecar/" target="_blank">post sobre inclusão de testes num projeto</a>, no momento em que comecei a modificar o código desse projeto foi o momento em que comecei a colocar testes nele.</p>
<p>Nessa experiência, enumerei 3 sintomas que podem ser um indício de que seu código está virando o <strong>Código do Pânico</strong>. São eles:</p>
<ol>
<li>Classes/Metodos/Atributos que aparentemente não são mais usados não são removidos, pois não existe certeza de que a remoção deles não vai causar problema.</li>
<li>Existe um medo enorme em modificar um método. Geralmente cria-se outro que faz "quase a mesma coisa" e com um nome parecido, pois estragar aquele método pode gerar até uma demissão.</li>
<li>Desenvolvedores adicionam gambiarras (ou bacalhau pra quem prefere) sem a menor pena, afinal de contas, <a href="http://desciclo.pedia.ws/wiki/POG" target="_blank">o código já está cheio delas mesmo</a>.</li>
</ol>
<p>A maioria dos problemas que tornam o código do seu projeto um <strong>Código do Pânico</strong> se resolvem com praticas como <a href="http://www.improveit.com.br/xp/praticas/tdd" target="_blank">TDD</a>, mantendo uma boa <a href="http://en.wikipedia.org/wiki/Test_suite" target="_blank">suite de testes</a> e também <a href="http://en.wikipedia.org/wiki/Fixing_Broken_Windows" target="_blank">retirando as gambiarras do seu código</a>, que quando não removidas, estimulam outros desenvolvedores a adicionar mais um pouco sempre que a pressa pede.</p>
<p>O quanto você tem medo de alterar o código do seu projeto?</p>
